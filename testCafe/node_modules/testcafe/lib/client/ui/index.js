!function(){function t(e){var n=e.document;!function(t){"use strict";var e,n,i,s,a,o={".js":[],".json":[],".css":[],".html":[]},r="function"==typeof require?require:null;return s=function(t){var e=new Error("Could not find module '"+t+"'");return e.code="MODULE_NOT_FOUND",e},a=function(t,e,n){var i,s;if("function"==typeof t[e+n])return e+n;for(i=0;s=o[n][i];++i)if("function"==typeof t[e+s])return e+s;return null},e=function(t,i,o,r,u,l){var d,c,h,f,p,m;for(o=o.split(/[\\\/]/),d=o.pop(),"."!==d&&".."!==d||(o.push(d),d="");null!=(c=o.shift());)if(c&&"."!==c&&(".."===c?(t=i.pop(),l=l.slice(0,l.lastIndexOf("/"))):(i.push(t),t=t[c],l+="/"+c),!t))throw s(r);if(d&&"function"!=typeof t[d]&&(m=a(t,d,".js"),m||(m=a(t,d,".json")),m||(m=a(t,d,".css")),m||(m=a(t,d,".html")),m?d=m:2!==u&&"object"==typeof t[d]&&(i.push(t),t=t[d],l+="/"+d,d="")),!d)return 1!==u&&t[":mainpath:"]?e(t,i,t[":mainpath:"],r,1,l):e(t,i,"index",r,2,l);if(p=t[d],!p)throw s(r);return p.hasOwnProperty("module")?p.module.exports:(h={},p.module=f={exports:h,id:l+"/"+d},p.call(h,h,f,n(t,i,l)),f.exports)},i=function(n,i,a,o){var u,l=a,d=a.charAt(0),c=0;if("/"===d){if(l=l.slice(1),n=t["/"],!n){if(r)return r(a);throw s(a)}o="/",i=[]}else if("."!==d){if(u=l.split("/",1)[0],n=t[u],!n){if(r)return r(a);throw s(a)}o=u,i=[],l=l.slice(u.length+1),l||(l=n[":mainpath:"],l?c=1:(l="index",c=2))}return e(n,i,l,a,c,o)},(n=function(t,e,n){return function(s){return i(t,[].concat(e),s,n)}})(t,[],"")}({"testcafe-phoenix":{src:{client:{ui:{cursor:{"iframe-cursor.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}t.__esModule=!0;var a=i("../deps/hammerhead"),o=s(a),r=i("../deps/testcafe-core"),u=i("./messages"),l=s(u),d=o["default"].utils.browser,c=d.isIE?1:0;t["default"]={move:function(t,n){var i={cmd:l["default"].moveRequest,x:t+c,y:n+c};return(0,r.sendRequestToFrame)(i,l["default"].moveResponse,e.parent)},leftButtonDown:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].leftButtonDownRequest},l["default"].leftButtonDownResponse,e.parent)},rightButtonDown:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].rightButtonDownRequest},l["default"].rightButtonDownResponse,e.parent)},buttonUp:function(){return(0,r.sendRequestToFrame)({cmd:l["default"].buttonUpRequest},l["default"].buttonUpResponse,e.parent)}},n.exports=t["default"]},"index.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}t.__esModule=!0;var a=i("./../deps/hammerhead"),o=s(a),r=i("./../deps/testcafe-core"),u=s(r),l=i("./messages"),d=s(l),c=o["default"].Promise,h=o["default"].shadowUI,f=o["default"].utils.browser,p=o["default"].utils.featureDetection,m=o["default"].eventSandbox.message,g=u["default"].styleUtils,v=u["default"].positionUtils,y="cursor",_="touch",w="l-mouse-down",E="r-mouse-down",C=[w,E].join(" ");m.on(m.SERVICE_MSG_RECEIVED_EVENT,function(t){var e=t.message;switch(e.cmd){case d["default"].moveRequest:var n=v.getIframePointRelativeToParentFrame({x:e.x,y:e.y},t.source);b.move(n.x,n.y).then(function(){return m.sendServiceMsg({cmd:d["default"].moveResponse},t.source)});break;case d["default"].leftButtonDownRequest:b.leftButtonDown().then(function(){return m.sendServiceMsg({cmd:d["default"].leftButtonDownResponse},t.source)});break;case d["default"].rightButtonDownRequest:b.rightButtonDown().then(function(){return m.sendServiceMsg({cmd:d["default"].rightButtonDownResponse},t.source)});break;case d["default"].buttonUpRequest:b.buttonUp().then(function(){return m.sendServiceMsg({cmd:d["default"].buttonUpResponse},t.source)})}});var b={cursorElement:null,x:50,y:50,pointerOffsetX:0,pointerOffsetY:0,_createElement:function(){this.cursorElement=n.createElement("div"),h.addClass(this.cursorElement,y),p.isTouchDevice&&!f.isIE&&(h.addClass(this.cursorElement,_),this.pointerOffsetX=Math.ceil(g.getWidth(this.cursorElement)/2),this.pointerOffsetY=Math.ceil(g.getHeight(this.cursorElement)/2)),h.getRoot().appendChild(this.cursorElement)},isVisible:function(){return this.cursorElement&&"hidden"!==g.get(this.cursorElement,"visibility")},hide:function(){this.cursorElement||this._createElement(),g.set(this.cursorElement,"visibility","hidden")},show:function(){this.cursorElement||this._createElement(),g.set(this.cursorElement,"visibility","")},move:function(t,e){return this.x=t,this.y=e,this.cursorElement||this._createElement(),g.set(this.cursorElement,{left:this.x-this.pointerOffsetX+"px",top:this.y-this.pointerOffsetY+"px"}),c.resolve()},leftButtonDown:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,C),h.addClass(this.cursorElement,w),c.resolve()},rightButtonDown:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,C),h.addClass(this.cursorElement,E),c.resolve()},buttonUp:function(){return this.cursorElement||this._createElement(),h.removeClass(this.cursorElement,C),c.resolve()}};t["default"]=b,e.exports=t["default"]},"messages.js":function(t,e,n){t.__esModule=!0,t["default"]={moveRequest:"ui|cursor|move|request",leftButtonDownRequest:"ui|cursor|leftbuttondown|request",rightButtonDownRequest:"ui|cursor|rightbuttondown|request",buttonUpRequest:"ui|cursor|buttonup|request",moveResponse:"ui|cursor|move|response",leftButtonDownResponse:"ui|cursor|leftbuttondown|response",rightButtonDownResponse:"ui|cursor|rightbuttondown|response",buttonUpResponse:"ui|cursor|buttonup|response"},e.exports=t["default"]}},deps:{"hammerhead.js":function(t,n,i){t.__esModule=!0,t["default"]=e["%hammerhead%"],n.exports=t["default"]},"testcafe-core.js":function(t,n,i){t.__esModule=!0,t["default"]=e["%testCafeCore%"],n.exports=t["default"]}},"index.js":function(n,i,s){function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}var r=s("./deps/hammerhead"),u=o(r),l=s("./deps/testcafe-core"),d=o(l),c=s("./select-element"),h=a(c),f=s("./modal-background"),p=a(f),m=s("./progress-panel"),g=o(m),v=s("./status-bar"),y=o(v),_=s("./status-bar/iframe-status-bar"),w=o(_),E=s("./cursor"),C=o(E),b=s("./cursor/iframe-cursor"),x=a(b),S=u["default"].Promise,I=u["default"].eventSandbox.message,B=d["default"].sendRequestToFrame,T="ui|hide|request",D="ui|hide|response",R="ui|show|request",M="ui|show|response";I.on(I.SERVICE_MSG_RECEIVED_EVENT,function(t){t.message.cmd===T?(u["default"].shadowUI.getRoot().style.visibility="hidden",I.sendServiceMsg({cmd:D},t.source)):t.message.cmd===R&&(u["default"].shadowUI.getRoot().style.visibility="",I.sendServiceMsg({cmd:M},t.source))}),n.cursorUI=C["default"],n.iframeCursorUI=x,n.selectElement=h,n.modalBackground=p,n.ProgressPanel=g["default"],n.StatusBar=y["default"],n.IframeStatusBar=w["default"],n.get=s,n.hide=function(t){return t?B({cmd:T},D,e.top):(u["default"].shadowUI.getRoot().style.visibility="hidden",S.resolve())},n.show=function(t){return t?B({cmd:R},M,e.top):(u["default"].shadowUI.getRoot().style.visibility="",S.resolve())},u["default"].nativeMethods.objectDefineProperty.call(e,e,"%testCafeUI%",{configurable:!0,value:n}),u["default"].on(u["default"].EVENTS.evalIframeScript,function(e){return t(e.iframe.contentWindow,!0)})},"modal-background.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=_.getRoot();D=n.createElement("div"),t.appendChild(D),_.addClass(D,x),R=n.createElement("div"),R.textContent=b,t.appendChild(R),_.addClass(R,S),M=n.createElement("div"),C.set(M,"visibility","hidden"),t.appendChild(M),_.addClass(M,T)}function r(){var t=C.getHeight(e),n=C.getWidth(e),i=!C.hasDimensions(R);i&&(C.set(R,"visibility","hidden"),C.set(R,"display","block")),C.set(R,{left:Math.max((n-C.getWidth(R))/2,0)+"px",top:Math.max((t-C.getHeight(R))/2,0)+"px"}),i&&(C.set(R,"display","none"),C.set(R,"visibility",""))}function u(){var t=function(){var t=C.getHeight(e),n=C.getWidth(e);C.set(D,"width",n+"px"),C.set(D,"height",t+"px"),C.set(M,{left:Math.round((n-C.getWidth(M))/2)+"px",top:Math.round((t-C.getHeight(M))/2)+"px"})};t(),E.bind(e,"resize",t)}function l(){o(),u(),r(),A=!0}function d(){var t=!1,i=function(){l(),C.set(D,"opacity",B),C.set(D,"display","block"),C.set(R,"display","block"),t=!0},s=function a(){t||(n.body?i():w.setTimeout.call(e,a,0))};s(),E.documentReady().then(function(){t||i()})}function c(t){A||l(),C.set(D,"opacity",t?0:I),C.set(D,"display","block")}function h(){A&&(C.set(R,"display","none"),C.set(D,"display","none"))}function f(){C.set(M,"visibility","visible")}function p(){C.set(M,"visibility","hidden")}t.__esModule=!0,t.initAndShowLoadingText=d,t.show=c,t.hide=h,t.showLoadingIcon=f,t.hideLoadingIcon=p;var m=s("./deps/hammerhead"),g=a(m),v=s("./deps/testcafe-core"),y=a(v),_=g["default"].shadowUI,w=g["default"].nativeMethods,E=y["default"].eventUtils,C=y["default"].styleUtils,b="Loading page...",x="modal-background",S="loading-text",I=.7,B=.8,T="loading-icon",D=null,R=null,M=null,A=!1},"progress-panel":{"index.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=s("../deps/hammerhead"),u=a(r),l=s("../deps/testcafe-core"),d=a(l),c=s("./progress-bar"),h=a(c),f=u["default"].shadowUI,p=u["default"].nativeMethods,m=d["default"].eventUtils,g=d["default"].styleUtils,v="progress-panel",y="title",_="content",w=100,E=10,C=300,b=200,x=600,S=1e3,I=function(){function t(){var e=this;o(this,t),this.startTime=null,this.openingTimeout=null,this.updateInterval=null,this.animationInterval=null,this.panelDiv=n.createElement("div"),f.getRoot().appendChild(this.panelDiv),this.titleDiv=n.createElement("div"),this.panelDiv.appendChild(this.titleDiv),this.contentDiv=n.createElement("div"),this.panelDiv.appendChild(this.contentDiv),f.addClass(this.panelDiv,v),f.addClass(this.titleDiv,y),f.addClass(this.contentDiv,_),t._showAtWindowCenter(this.panelDiv),this.progressBar=new h["default"](this.contentDiv),this.disposePanel=function(){return t._showAtWindowCenter(e.panelDiv)}}return t._getInvisibleElementProperty=function(t,e){var n="none"===g.get(t,"display");n&&g.set(t,"display","block");var i=t[e];return n&&g.set(t,"display","none"),i},t._showAtWindowCenter=function(n){var i=t._getInvisibleElementProperty(n,"offsetHeight"),s=t._getInvisibleElementProperty(n,"offsetWidth"),a=Math.round(g.getHeight(e)/2-i/2),o=Math.round(g.getWidth(e)/2-s/2);g.set(n,{left:o+"px",top:a+"px"})},t.prototype._setCurrentProgress=function(){var t=Math.round((Date.now()-this.startTime)/this.maxTimeout*100);this.progressBar.setValue(t)},t.prototype._setSuccess=function(t){this.progressBar.setSuccess(t)},t.prototype._stopAnimation=function(){p.clearInterval.call(e,this.animationInterval)},t.prototype._animate=function(t,n,i,s){var a=this,o=Date.now(),r=i?0:1,u=0,l=0,d=0;i&&(g.set(t,"opacity",r),g.set(t,"display","block")),this._stopAnimation(),this.animationInterval=p.setInterval.call(e,function(){u=Date.now()-o,l=Math.min(u/n,1),d=.5-Math.cos(l*Math.PI)/2,g.set(t,"opacity",r+(i?d:-d)),1===l&&(a._stopAnimation(),s&&s())},E)},t.prototype._showPanel=function(){m.bind(e,"resize",this.disposePanel),this._animate(this.panelDiv,b,!0)},t.prototype._hidePanel=function(t){var n=this;this.startTime=null,m.unbind(e,"resize",this.disposePanel),this._animate(this.panelDiv,t?0:x,!1,function(){return g.set(n.panelDiv,"display","none")})},t.prototype.show=function(t,n){var i=this;this.startTime=Date.now(),this.maxTimeout=n,this.titleDiv.textContent=t,this._setSuccess(!1),this.openingTimeout=p.setTimeout.call(e,function(){i.openingTimeout=null,i._setCurrentProgress(),i._showPanel(),i.updateInterval=p.setInterval.call(e,function(){return i._setCurrentProgress()},w)},C)},t.prototype.close=function(t){var n=this;t&&this._setSuccess(!0),this.openingTimeout&&(p.clearTimeout.call(e,this.openingTimeout),this.openingTimeout=null),this.updateInterval&&(p.clearInterval.call(e,this.updateInterval),this.updateInterval=null),t?this.startTime&&Date.now()-this.startTime<S?p.setTimeout.call(e,function(){p.setTimeout.call(e,function(){return n._hidePanel(!1)},b)},w):p.setTimeout.call(e,function(){return n._hidePanel(!1)},b):this._hidePanel(!0)},t}();t["default"]=I,i.exports=t["default"]},"progress-bar.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i("../deps/hammerhead"),r=s(o),u=i("../deps/testcafe-core"),l=s(u),d=r["default"].shadowUI,c=l["default"].styleUtils,h="progress-bar",f="value",p="success",m=function(){function t(e){a(this,t),this.containerElement=n.createElement("div"),this.valueElement=n.createElement("div"),e.appendChild(this.containerElement),this.containerElement.appendChild(this.valueElement),d.addClass(this.containerElement,h),d.addClass(this.valueElement,f)}return t.prototype.setValue=function(t){t="number"!=typeof t?0:Math.min(Math.max(t,0),100),c.set(this.valueElement,"width",t+"%")},t.prototype.setSuccess=function(t){t?d.addClass(this.containerElement,p):d.removeClass(this.containerElement,p)},t}();t["default"]=m,e.exports=t["default"]}},"select-element.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t){(t.target||t.srcElement)===k||D.containsElement(k,t.target)||D.containsElement(q,t.target)||h()}function r(t,e){var n=k.selectedIndex,i=k.getElementsByTagName("option")[t],s=!e&&t!==n;s&&!x.isIE&&(k.selectedIndex=t),x.isFirefox||x.isIE||!s||(B.input(k),B.change(k)),(x.isFirefox||x.isIE)&&B.mousedown(x.isFirefox?i:k),S.isTouchDevice||B.mouseup(x.isFirefox?i:k),(x.isFirefox||x.isIE)&&s&&(x.isIE&&(k.selectedIndex=t),x.isIE||B.input(k),B.change(k)),S.isTouchDevice||B.click(x.isFirefox||x.isIE?i:k),e||h()}function u(t,e){var i=n.createElement("div"),s=t.disabled||"optgroup"===D.getTagName(t.parentElement)&&t.parentElement.disabled;i.textContent=t.text,e.appendChild(i),b.addClass(i,P),s&&(b.addClass(i,U),R.set(i,"color",R.get(t,"color"))),s&&x.isWebKit?M.bind(i,"click",function(){return!1}):M.bind(i,"click",function(){var t=A.indexOf(N,this);r(t,s)}),N.push(i)}function l(t,e){var i=n.createElement("div");i.textContent=t.label||" ",e.appendChild(i),b.addClass(i,W),i.disabled&&(b.addClass(i,U),R.set(i,"color",R.get(t,"color"))),d(t.children,i),F.push(i)}function d(t,e){for(var n=0;n<t.length;n++)D.isOptionElement(t[n])?u(t[n],e):"optgroup"===D.getTagName(t[n])&&l(t[n],e)}function c(t){var i=t.children;if(i.length){if(k){var s=t===k;if(h(),s)return}k=t,q=n.createElement("div"),b.getRoot().appendChild(q),b.addClass(q,V),d(i,q),I.setTimeout.call(e,function(){M.bind(n,"mousedown",o)},0),R.set(q,{position:"absolute",fontSize:R.get(k,"fontSize"),fontFamily:R.get(k,"fontFamily"),minWidth:R.getWidth(k)+"px",left:T.getOffsetPosition(k).left+"px",height:D.getSelectVisibleChildren(t).length>O?R.getOptionHeight(t)*O:""});var a=T.getOffsetPosition(k).top,r=R.getHeight(q),u=a+R.getHeight(k)+2;if(u+r>R.getScrollTop(e)+R.getHeight(e)){var l=a-3-r;l>=R.getScrollTop(e)&&(u=l)}R.set(q,"top",u+"px")}}function h(){D.remove(q),M.unbind(n,"mousedown",o),q=null,k=null,N=[],F=[]}function f(t){return t?t===k:!!k}function p(t){var e="optgroup"===D.getTagName(t),n=e?D.getElementIndexInParent(k,t):D.getElementIndexInParent(k,t);return e?F[n]:N[n]}function m(t){var e=D.getSelectParent(t);if(e){var n=R.getSelectElementSize(e),i=R.getOptionHeight(e),s=0,a=Math.max(R.getScrollTop(e)/i,0),o=a+n-1,r=D.getChildVisibleIndex(e,t);r<a?(s=i*(a-r),R.setScrollTop(e,Math.max(R.getScrollTop(e)-s,0))):r>o&&(s=i*(r-o),R.setScrollTop(e,R.getScrollTop(e)+s))}}function g(t){var e=D.getSelectParent(t);if(!e)return{x:0,y:0};var n=R.getOptionHeight(e),i=T.getElementRectangle(t);return{x:Math.round(i.left+i.width/2),y:Math.round(i.top+n/2)}}function v(t,e){var n=R.getSelectElementSize(t),i=!R.hasDimensions(b.select("."+V)[0]);if(/down|up/.test(e)||!x.isIE&&(n<=1||x.isFirefox)&&(i||x.isFirefox)&&/left|right/.test(e)){for(var s=t.querySelectorAll("option"),a=[],o=0;o<s.length;o++){var r=s[o].parentElement;s[o].disabled||"optgroup"===D.getTagName(r)&&r.disabled||a.push(s[o])}var u=A.indexOf(a,s[t.selectedIndex]),l=u+(/down|right/.test(e)?1:-1);l>=0&&l<a.length&&(t.selectedIndex=A.indexOf(s,a[l]),x.isIE||B.input(t),B.change(t))}}function y(t){var e=D.getSelectParent(t);if(!e)return!0;var n=f(e),i=R.getSelectElementSize(e);return n||i>1}t.__esModule=!0,t.expandOptionList=c,t.collapseOptionList=h,t.isOptionListExpanded=f,t.getEmulatedChildElement=p,t.scrollOptionListByChild=m,t.getSelectChildCenter=g,t.switchOptionsByKeys=v,t.isOptionElementVisible=y;var _=s("./deps/hammerhead"),w=a(_),E=s("./deps/testcafe-core"),C=a(E),b=w["default"].shadowUI,x=w["default"].utils.browser,S=w["default"].utils.featureDetection,I=w["default"].nativeMethods,B=w["default"].eventSandbox.eventSimulator,T=C["default"].positionUtils,D=C["default"].domUtils,R=C["default"].styleUtils,M=C["default"].eventUtils,A=C["default"].arrayUtils,V="tcOptionList",W="tcOptionGroup",P="tcOption",U="disabled",O=x.isIE?30:20,k=null,q=null,F=[],N=[]},"status-bar":{"iframe-status-bar.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}t.__esModule=!0;var u=i("./../deps/hammerhead"),l=s(u),d=i("./../deps/testcafe-core"),c=s(d),h=i("./messages"),f=s(h),p=i("./index"),m=s(p),g=c["default"].sendRequestToFrame,v=l["default"].eventSandbox.message,y=function(t){function n(){return a(this,n),o(this,t.call(this))}return r(n,t),n.prototype.showWaitingElementStatus=function(t){v.sendServiceMsg({cmd:f["default"].startWaitingElement,timeout:t},e.top)},n.prototype.hideWaitingElementStatus=function(t){var n={cmd:f["default"].endWaitingElementRequest,waitingSuccess:t};return g(n,f["default"].endWaitingElementResponse,e.top)},n.prototype.showWaitingAssertionRetriesStatus=function(t){v.sendServiceMsg({cmd:f["default"].startWaitingAssertionRetries,timeout:t},e.top)},n.prototype.hideWaitingAssertionRetriesStatus=function(t){var n={cmd:f["default"].endWaitingAssertionRetriesRequest,waitingSuccess:t};return g(n,f["default"].endWaitingAssertionRetriesResponse,e.top)},n}(m["default"]);t["default"]=y,n.exports=t["default"]},"index.js":function(t,i,s){function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}t.__esModule=!0;var l=s("./../deps/hammerhead"),d=a(l),c=s("./../deps/testcafe-core"),h=a(c),f=s("./progress-bar"),p=a(f),m=s("./messages"),g=a(m),v=d["default"].Promise,y=d["default"].shadowUI,_=d["default"].nativeMethods,w=d["default"].eventSandbox.message,E=d["default"].utils.browser,C=d["default"].utils.featureDetection,b=d["default"].eventSandbox.listeners,x=h["default"].styleUtils,S=h["default"].eventUtils,I=h["default"].domUtils,B=h["default"].serviceUtils,T=h["default"].arrayUtils,D="status-bar",R="container",M="icon",A="info-container",V="fixture-container",W="fixture",P="user-agent",U="status-container",O="unlock-page-area",k="unlock-page-container",q="unlock-icon",F="icon-separator",N="locked",j="unlocked",L="buttons",z="button-icon",H="resume",G="step",K="status",Y="waiting-element-failed",X="waiting-element-success",J="Loading Web Page...",Q="Waiting for an element to appear...",Z="Waiting for an assertion execution...",$="Debugging test...",tt="Test failed",et="Unlock page",nt="Page unlocked",it=300,st=500,at=10,ot={all:{name:"show-all-elements"},hideFixture:{name:"hide-fixture",maxSize:940,className:"icon-status-view"},hideStatus:{name:"hide-status",maxSize:380,className:"icon-unlock-buttons-view"},hideStatusDebugging:{name:"hide-status-debugging",maxSize:740,className:"icon-unlock-buttons-view"},hideUnlockArea:{name:"hide-unlock-area",maxSize:460,className:"icon-buttons-view"},onlyButtons:{name:"show-buttons-only",maxSize:330,className:"only-buttons-view"},onlyIcon:{name:"show-icon-only",maxSize:330,className:"only-icon-view"}},rt=function(t){function i(n,s,a){o(this,i);var u=r(this,t.call(this));return u.UNLOCK_PAGE_BTN_CLICK="testcafe|ui|status-bar|unlock-page-btn-click",u.userAgent=n,u.fixtureName=s,u.testName=a,u.statusBar=null,u.container=null,u.infoContainer=null,u.icon=null,u.fixtureContainer=null,u.resumeButton=null,u.finishButton=null,u.stepButton=null,u.statusDiv=null,u.buttons=null,u.progressBar=null,u.animationInterval=null,u.showingTimeout=null,u.windowHeight=x.getHeight(e),u.state={created:!1,showing:!1,hiding:!1,debugging:!1,waiting:!1,assertionRetries:!1,hidden:!1},u.currentView=null,u._createBeforeReady(),u._initChildListening(),u}return u(i,t),i.prototype._createFixtureArea=function(){this.infoContainer=n.createElement("div"),y.addClass(this.infoContainer,A),y.addClass(this.infoContainer,A),this.container.appendChild(this.infoContainer),this.icon=n.createElement("div"),y.addClass(this.icon,M),this.infoContainer.appendChild(this.icon),this.fixtureContainer=n.createElement("div"),y.addClass(this.fixtureContainer,V),this.infoContainer.appendChild(this.fixtureContainer);var t=n.createElement("div");t.textContent=this.fixtureName+" - "+this.testName,y.addClass(t,W),this.fixtureContainer.appendChild(t);var e=n.createElement("div");e.textContent=this.userAgent,y.addClass(e,P),this.fixtureContainer.appendChild(e)},i.prototype._createUnlockPageArea=function(t){var e=this,i=n.createElement("div"),s=n.createElement("div"),a=n.createElement("div"),o=n.createElement("div"),r=n.createElement("span");return r.textContent=et,y.addClass(i,O),y.addClass(s,k),y.addClass(s,N),y.addClass(a,q),y.addClass(o,F),E.isMacPlatform&&(s.style.paddingTop="3px",s.style.height="24px",E.isFirefox&&(r.style.lineHeight="30px")),t.appendChild(i),i.appendChild(s),s.appendChild(a),s.appendChild(r),s.appendChild(o),this._bindClickOnce([s],function(){y.removeClass(s,N),y.addClass(s,j),r.textContent=nt,e.emit(e.UNLOCK_PAGE_BTN_CLICK,{})}),i.style.display="none",i},i.prototype._createStatusArea=function(){var t=n.createElement("div");y.addClass(t,U),this.container.appendChild(t),this.statusDiv=n.createElement("div"),this.statusDiv.textContent=J,y.addClass(this.statusDiv,K),E.isMacPlatform&&(this.statusDiv.style.marginTop="9px"),t.appendChild(this.statusDiv),this.unlockPageArea=this._createUnlockPageArea(t),this.buttons=n.createElement("div"),y.addClass(this.buttons,L),t.appendChild(this.buttons),this.resumeButton=this._createButton("Resume",H),this.stepButton=this._createButton("Next Step",G),this.finishButton=this._createButton("Finish",H),this.buttons.appendChild(this.resumeButton),this.buttons.appendChild(this.stepButton),this.buttons.style.display="none"},i.prototype._createButton=function(t,e){var i=n.createElement("div"),s=n.createElement("div"),a=n.createElement("span");return a.textContent=t,y.addClass(i,"button"),y.addClass(i,e),y.addClass(s,z),E.isSafari&&(a.style.position="relative",a.style.top="1px"),i.appendChild(s),i.appendChild(a),i},i.prototype._create=function(){this.statusBar=n.createElement("div"),this.container=n.createElement("div"),y.addClass(this.statusBar,D),y.addClass(this.container,R),this.statusBar.appendChild(this.container),this._createFixtureArea(),this._createStatusArea(),this.progressBar=new p["default"](this.statusBar),this.progressBar.indeterminateIndicator.start(),this.progressBar.show(),y.getRoot().appendChild(this.statusBar),this._recalculateSizes(),this._bindHandlers(),this.state.created=!0},i.prototype._createBeforeReady=function(){var t=this;this.state.created||e!==e.top||(n.body?this._create():_.setTimeout.call(e,function(){return t._createBeforeReady()},0))},i.prototype._switchView=function(t){this.currentView&&this.currentView.name===t.name||(this.currentView&&this.currentView.className&&y.removeClass(this.statusBar,this.currentView.className),t.className&&y.addClass(this.statusBar,t.className),this.currentView=t)},i.prototype._calculateActualView=function(t){var e=this.state.debugging?ot.hideStatusDebugging.maxSize:ot.hideStatus.maxSize;return t>=ot.hideFixture.maxSize?ot.all:t<ot.hideFixture.maxSize&&t>=e?ot.hideFixture:this.state.debugging?t<e&&t>=ot.hideUnlockArea.maxSize?ot.hideStatus:t<ot.hideUnlockArea.maxSize&&t>=ot.onlyButtons.maxSize?ot.hideUnlockArea:ot.onlyButtons:ot.onlyIcon},i.prototype._setFixtureContainerWidth=function(){if("none"!==x.get(this.fixtureContainer,"display")){var t=x.getWidth(this.infoContainer),e=x.getWidth(this.icon),n=x.getElementMargin(this.icon),i=t-e-n.left-n.right-1;x.set(this.fixtureContainer,"width",i+"px")}},i.prototype._setStatusDivLeftMargin=function(){if(this.statusDiv.parentNode&&"none"!==x.get(this.statusDiv.parentNode,"display")){var t="none"===x.get(this.statusDiv,"display"),e=x.getWidth(this.infoContainer),n=x.getWidth(this.container),i=t?0:x.getWidth(this.statusDiv),s=n/2-i/2-e;this.state.debugging&&(s-=x.getWidth(this.buttons)/2,s-=x.getWidth(this.unlockPageArea)/2);var a=Math.max(Math.round(s),0)+"px";x.set(this.statusDiv,"marginLeft",t?0:a),x.set(this.statusDiv.parentNode,"marginLeft",t?a:0)}},i.prototype._recalculateSizes=function(){var t=x.getWidth(e);this.windowHeight=x.getHeight(e),x.set(this.statusBar,"width",t+"px"),this._switchView(this._calculateActualView(t)),this._setFixtureContainerWidth(),this._setStatusDivLeftMargin()},i.prototype._animate=function(t){var n=this,i=Date.now(),s=parseInt(x.get(this.statusBar,"opacity"),10)||0,a=0,o=0,r=0;this._stopAnimation(),t&&(x.set(this.statusBar,"visibility",""),this.state.hidden=!1),this.animationInterval=_.setInterval.call(e,function(){a=Date.now()-i,o=Math.min(a/st,1),r=.5-Math.cos(o*Math.PI)/2,x.set(n.statusBar,"opacity",s+(t?r:-r)),1===o&&(n._stopAnimation(),t||(x.set(n.statusBar,"visibility","hidden"),n.state.hidden=!0),n.state.showing=!1,n.state.hiding=!1)},at)},i.prototype._stopAnimation=function(){this.animationInterval&&(_.clearInterval.call(e,this.animationInterval),this.animationInterval=null)},i.prototype._fadeOut=function(){this.state.hiding||this.state.debugging||(this.state.showing=!1,this.state.hiding=!0,this._animate())},i.prototype._fadeIn=function(){this.state.showing||this.state.debugging||(this.state.hiding=!1,this.state.showing=!0,this._animate(!0))},i.prototype._bindHandlers=function(){var t=this;b.initElementListening(e,["resize"]),b.addInternalEventListener(e,["resize"],function(){return t._recalculateSizes()});var n=x.getHeight(this.statusBar);b.addFirstInternalHandler(e,["mousemove","mouseout"],function(e){"mouseout"!==e.type||e.relatedTarget?"mousemove"===e.type&&(e.clientY>t.windowHeight-n?t._fadeOut(e):t.state.hidden&&t._fadeIn(e)):t._fadeIn(e)})},i.prototype._bindClickOnce=function(t,n){var i=this,s=C.isTouchDevice?"touchstart":"mousedown",a=function o(a){var r=!!T.find(t,function(t){return I.containsElement(t,a.target)});r?(S.preventDefault(a),b.removeInternalEventListener(e,[s],o),n(a)):I.containsElement(i.statusBar,a.target)&&S.preventDefault(a)};b.addInternalEventListener(e,[s],a)},i.prototype._initChildListening=function(){var t=this;w.on(w.SERVICE_MSG_RECEIVED_EVENT,function(e){var n=e.message;n.cmd===g["default"].startWaitingElement?t.showWaitingElementStatus(n.timeout):n.cmd===g["default"].endWaitingElementRequest?t.hideWaitingElementStatus(n.waitingSuccess).then(function(){return w.sendServiceMsg({cmd:g["default"].endWaitingElementResponse},e.source)}):n.cmd===g["default"].startWaitingAssertionRetries?t.showWaitingAssertionRetriesStatus(n.timeout):n.cmd===g["default"].endWaitingAssertionRetriesRequest&&t.hideWaitingAssertionRetriesStatus(n.waitingSuccess).then(function(){return w.sendServiceMsg({cmd:g["default"].endWaitingAssertionRetriesResponse},e.source)})})},i.prototype._resetState=function(){this.state.debugging=!1,this.buttons.style.display="none",this.unlockPageArea.style.display="none",this.statusDiv.textContent="",this.progressBar.hide()},i.prototype._showWaitingStatus=function(){this.statusDiv.textContent=this.state.assertionRetries?Z:Q,this._setStatusDivLeftMargin(),this.progressBar.show()},i.prototype._hideWaitingStatus=function(t){var n=this;return new v(function(i){_.setTimeout.call(e,function(){return n.state.waiting||n.state.debugging?void i():(y.removeClass(n.statusBar,X),y.removeClass(n.statusBar,Y),n.progressBar.determinateIndicator.reset(),n._resetState(),void i())},t?0:st)})},i.prototype._showDebuggingStatus=function(t){var e=this;return new v(function(n){e.state.debugging=!0,t?(e.buttons.removeChild(e.stepButton),e.buttons.removeChild(e.resumeButton),e.buttons.appendChild(e.finishButton),e.statusDiv.textContent=tt,y.removeClass(e.statusBar,X),y.addClass(e.statusBar,Y)):e.statusDiv.textContent=$,e.buttons.style.display="",e.unlockPageArea.style.display="",e._recalculateSizes(),e._bindClickOnce([e.resumeButton,e.stepButton,e.finishButton],function(t){var i=I.containsElement(e.stepButton,t.target);e._resetState(),n(i)})})},i.prototype._setWaitingStatus=function(t,n){var i=this;this.state.waiting=!0,this.progressBar.determinateIndicator.start(t,n),this.showingTimeout=_.setTimeout.call(e,function(){i.showingTimeout=null,i._showWaitingStatus()},it)},i.prototype._resetWaitingStatus=function(t){this.state.waiting=!1,this.progressBar.determinateIndicator.stop(),t?y.addClass(this.statusBar,X):y.addClass(this.statusBar,Y);var n=this.showingTimeout&&t;return this.showingTimeout&&(_.clearTimeout.call(e,this.showingTimeout),this.showingTimeout=null,t||this._showWaitingStatus()),this._hideWaitingStatus(n)},i.prototype.hidePageLoadingStatus=function(){this.state.created||this._create(),this.progressBar.indeterminateIndicator.stop(),this._resetState()},i.prototype.showDebuggingStatus=function(t){return this._stopAnimation(),x.set(this.statusBar,"opacity",1),x.set(this.statusBar,"visibility",""),this.state.hiden=!1,this._showDebuggingStatus(t)},i.prototype.showWaitingElementStatus=function(t){this.state.assertionRetries||this._setWaitingStatus(t)},i.prototype.hideWaitingElementStatus=function(t){return this.state.assertionRetries?v.resolve():this._resetWaitingStatus(t)},i.prototype.showWaitingAssertionRetriesStatus=function(t,e){this.state.assertionRetries=!0,this._setWaitingStatus(t,e)},i.prototype.hideWaitingAssertionRetriesStatus=function(t){var e=this;return this._resetWaitingStatus(t).then(function(){e.state.assertionRetries=!1})},i}(B.EventEmitter);t["default"]=rt,i.exports=t["default"]},"messages.js":function(t,e,n){t.__esModule=!0,t["default"]={startWaitingElement:"start-waiting-element",endWaitingElementRequest:"end-waiting-element-request",endWaitingElementResponse:"end-waiting-element-response",startWaitingAssertionRetries:"start-waiting-assertion-retries",endWaitingAssertionRetriesRequest:"end-waiting-assertion-retries-request",endWaitingAssertionRetriesResponse:"end-waiting-assertion-retries-response"},e.exports=t["default"]},"progress-bar":{"determinate-indicator.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}t.__esModule=!0;var o=i("../../deps/hammerhead"),r=s(o),u=i("../../deps/testcafe-core"),l=s(u),d=r["default"].shadowUI,c=r["default"].nativeMethods,h=l["default"].styleUtils,f="determinate",p=10,m=function(){function t(e,n){a(this,t),this.progressBar=e,this.firstValueElement=n,this.maxTimeout=null,this.startTime=null,this.animationInterval=null}return t.prototype._setCurrentProgress=function(){var t=(Date.now()-this.startTime)/this.maxTimeout,e=Math.min(Math.max(t,0),1),n=h.getWidth(this.progressBar),i=Math.round(n*e);h.set(this.firstValueElement,"width",i+"px")},t.prototype.start=function(t,n){var i=this;d.addClass(this.progressBar,f),this.maxTimeout=t,this.startTime=n||Date.now(),this._setCurrentProgress(),this.animationInterval=c.setInterval.call(e,function(){return i._setCurrentProgress()},p)},t.prototype.stop=function(){this.animationInterval&&(c.clearInterval.call(e,this.animationInterval),this.animationInterval=null)},t.prototype.reset=function(){h.set(this.firstValueElement,"width",0),d.removeClass(this.progressBar,f)},t}();t["default"]=m,n.exports=t["default"]},"indeterminate-indicator.js":function(t,n,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n){return 3*Math.pow(1-t,2)*t*e+3*(1-t)*t*t*n+t*t*t}function r(t,e){var n=t<E.middle,i=n?E.start:E.middle,s=n?E.middle:E.end,a=e[i],o=e[s],r={x:i,y:a.left},u={x:s,y:o.left},l=m.getLineYByXCoord(r,u,t);r={x:i,y:a.right},u={x:s,y:o.right};var d=m.getLineYByXCoord(r,u,t);return{left:l,right:d}}t.__esModule=!0;var u=i("../../deps/hammerhead"),l=s(u),d=i("../../deps/testcafe-core"),c=s(d),h=l["default"].shadowUI,f=l["default"].nativeMethods,p=c["default"].styleUtils,m=c["default"].positionUtils,g={time:2800,points:[.815,.395],positionByCompletePercent:{0:{left:-35,right:100},.6:{left:100,right:-90},1:{left:100,right:-90}}},v={time:3e3,points:[.84,1],positionByCompletePercent:{0:{left:-200,right:100},.6:{left:107,right:-8},1:{left:107,right:-8}}},y=1e3,_=10,w=1950,E={start:0,middle:.6,end:1},C="indeterminate",b=function(){function t(e,n,i){a(this,t),this.progressBar=e,this.firstValue=n,this.secondValue=i,this.animationInterval=null,this.secondValueAnimationInterval=null,this.secondValueAnimationTimeout=null,this.restartAnimationTimeout=null}return t._updateValueAnimation=function(t,e,n){var i=n.time,s=n.points,a=n.positionByCompletePercent,u=Date.now()-t,l=u/i,d=o(l,s[0],s[1]),c=r(d,a),h=c.left,f=c.right;p.set(e,"left",Math.round(h)+"%"),p.set(e,"right",Math.round(f)+"%")},t.prototype._clearFirstValueAnimation=function(){this.animationInterval&&(f.clearInterval.call(e,this.animationInterval),this.animationInterval=null),p.set(this.firstValue,"left","-35%"),p.set(this.firstValue,"right","100%")},t.prototype._clearSecondValueAnimation=function(){this.secondValueAnimationInterval&&(f.clearInterval.call(e,this.secondValueAnimationInterval),this.secondValueAnimationInterval=null),p.set(this.secondValue,"left","-200%"),p.set(this.secondValue,"right","100%")},t.prototype._startFirstValueAnimation=function(){var n=this;this._clearFirstValueAnimation();var i=Date.now();this.animationInterval=f.setInterval.call(e,function(){t._updateValueAnimation(i,n.firstValue,g)},_)},t.prototype._startSecondValueAnimation=function(){var n=this;this._clearSecondValueAnimation();var i=Date.now();this.secondValueAnimationInterval=f.setInterval.call(e,function(){t._updateValueAnimation(i,n.secondValue,v)},_)},t.prototype._startAnimation=function(){var t=this;this._startFirstValueAnimation(),this.secondValueAnimationTimeout=f.setTimeout.call(e,function(){return t._startSecondValueAnimation()},y),this.restartAnimationTimeout=f.setTimeout.call(e,function(){return t._startAnimation()},w)},t.prototype._stopAnimation=function(){this._clearFirstValueAnimation(),this._clearSecondValueAnimation(),this.secondValueAnimationTimeout&&(f.clearInterval.call(e,this.secondValueAnimationTimeout),this.secondValueAnimationTimeout=null),this.restartAnimationTimeout&&(f.clearInterval.call(e,this.restartAnimationTimeout),this.restartAnimationTimeout=null)},t.prototype.start=function(){h.addClass(this.progressBar,C),this._startAnimation()},t.prototype.stop=function(){h.removeClass(this.progressBar,C),this._stopAnimation()},t}();t["default"]=b,n.exports=t["default"]},"index.js":function(t,e,i){function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i("../../deps/hammerhead"),r=s(o),u=i("../../deps/testcafe-core"),l=s(u),d=i("./determinate-indicator"),c=s(d),h=i("./indeterminate-indicator"),f=s(h),p=r["default"].shadowUI,m=l["default"].styleUtils,g="progress-bar",v="value-container",y="value",_=function(){function t(e){a(this,t),this.progressBar=null,this.firstValueElement=null,this.secondValueElement=null,this._create(e),this.determinateIndicator=new c["default"](this.progressBar,this.firstValueElement),this.indeterminateIndicator=new f["default"](this.progressBar,this.firstValueElement,this.secondValueElement)}return t.prototype._create=function(t){this.progressBar=n.createElement("div"),p.addClass(this.progressBar,g),t.appendChild(this.progressBar);var e=n.createElement("div");p.addClass(e,v),this.progressBar.appendChild(e),this.firstValueElement=n.createElement("div"),p.addClass(this.firstValueElement,y),e.appendChild(this.firstValueElement),this.secondValueElement=n.createElement("div"),p.addClass(this.secondValueElement,y),e.appendChild(this.secondValueElement)},t.prototype.show=function(){m.set(this.progressBar,"visibility","visible")},t.prototype.hide=function(){m.set(this.progressBar,"visibility","hidden")},t}();t["default"]=_,e.exports=t["default"]}}}}}}}})("testcafe-phoenix/src/client/ui/index")}t(window)}();